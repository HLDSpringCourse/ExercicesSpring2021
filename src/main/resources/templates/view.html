<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link th:href="@{/styles/style.css}" rel="stylesheet" />

</head>
<body class="view">

<h1>Items</h1>

<form class="additem_form" th:action="@{/additem}"
      th:object="${itemDTO}"
      method="POST">
    <label>
        Nom :
        <input type="text" th:field="*{name}" />
    </label>
    <label>
        Code Region :
        <input list="regionCodeList" id="regionCodeInput" type="text" th:field="*{regionCode}" />
        <datalist id="regionCodeList">
            <option th:each="regionCode: ${regionCodeList}" th:value="${regionCode.code}" th:text="${regionCode.code+' -> '+regionCode.nom}"></option>
        </datalist>
    </label>
    <input type="submit" value="Ajouter" />
</form>

<ul th:if="${items != null && !items.isEmpty()}">
    <li th:each="item: ${items}">
        <a th:href="@{'/itemsview/'+${item.id}}">
            <h2 th:text='${"Nom : "+item.name}'></h2>
        </a>
        <p th:text='${"Region : "+item.regionName}'></p>
        <p th:text='${"Code Region : "+item.regionCode}'></p>
        <form action="#" th:action="@{'/deleteitem/{id}'(id=${item.id})}" th:method="delete" >
            <button type="submit" id="Supprimer">Supprimer</button>
        </form>
    </li>
</ul>

</body>
</html>



